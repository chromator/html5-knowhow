<!DOCTYPE html>
<html>
<head>
    <title>Litmus Test: Home</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script type="text/javascript" src="./js/jquery-1.10.1.js"></script>
	<script src="./js/jquery.js"></script>
	<script type="text/javascript" src="./js/jquery.validate.js"></script>
	<script type="text/javascript" src="./js/dbhandler.js"></script>
	<script type="text/javascript">
	
        $(document).ready(function () {
			
			initDb();
			
			console.log("in ready()");
			//quizId INTEGER PRIMARY KEY, name TEXT, nQuestions NUMBER, duration NUMBER
			var quizzes = readQuizzes();
			var quiz;

			for(var i = 0; i < quizzes.length; i++) {
				quiz = quizzes[i];
				var textToAppend = '<li id=' + quiz.quizId +'><a href="#" data-ajax="false"><h2>' + quiz.name + '</h2><p class="ui-li-maintext">Duration : <b>' + quiz.duration + ' minutes</b> &nbsp; &nbsp; &nbsp; No. of Questions : <b>' + quiz.nQuestions + '</b></p></a></li>';
				$("#quizList").append(textToAppend);
				
				$("li#"+(i+1)).bind('click', function (e, info) {
					console.log("list item " + quizzes[e.currentTarget.id-1].title + " has been clicked");
				});
			}
		});
    </script> 
	<script type="text/javascript" src="./js/jquery.mobile-1.3.1.js"></script>
	<link rel="stylesheet" href="./css/jquery.mobile-1.3.1.css" type="text/css" />
	<link rel="stylesheet" href="./css/jquery.mobile.theme-1.3.1.css" type="text/css" />
</head>

<body>
    <div id="litmusQuiz" data-role="page">
		<div data-role="header" data-theme="a" data-position="fixed">
			<h1>Home</h1>
			<a href="database_test.html" class="ui-btn-right" data-icon="add" data-iconpos="notext" data-direction="reverse" data-ajax="false">Add</a> 
		</div>
		<div data-role="content">
			<ul id="quizList" data-role="listview" data-filter="true" data-filter-theme="c" data-filter-placeholder="Search" data-inset="false" data-theme="c">						
			</ul>
        </div>
   </div>
</body>
</html>
